"use strict";(self.webpackChunkWAsP=self.webpackChunkWAsP||[]).push([[677],{8677:(S,p,a)=>{a.r(p),a.d(p,{AccountModule:()=>R});var i=a(3075),d=a(9808),s=a(2074),e=a(5e3),m=a(792);let v=(()=>{class t{constructor(n,r,c){this.router=n,this.accountService=r,this.route=c,this.accountService.userValue&&this.router.navigate(["/"])}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(s.F0),e.Y36(m.BR),e.Y36(s.gz))},t.\u0275cmp=e.Xpm({type:t,selectors:[["ng-component"]],decls:2,vars:0,consts:[[1,"col-md-6","offset-md-3","mt-5"]],template:function(n,r){1&n&&(e.TgZ(0,"div",0),e._UZ(1,"router-outlet"),e.qZA())},directives:[s.lC],encapsulation:2}),t})();var f=a(590);function C(t,o){1&t&&(e.TgZ(0,"div"),e._uU(1,"Username is required"),e.qZA())}function b(t,o){if(1&t&&(e.TgZ(0,"div",13),e.YNc(1,C,2,0,"div",14),e.qZA()),2&t){const n=e.oxw();e.xp6(1),e.Q6J("ngIf",n.f.username.errors.required)}}function h(t,o){1&t&&(e.TgZ(0,"div"),e._uU(1,"Password is required"),e.qZA())}function Z(t,o){if(1&t&&(e.TgZ(0,"div",13),e.YNc(1,h,2,0,"div",14),e.qZA()),2&t){const n=e.oxw();e.xp6(1),e.Q6J("ngIf",n.f.password.errors.required)}}function x(t,o){1&t&&e._UZ(0,"span",15)}const _=function(t){return{"is-invalid":t}};function T(t,o){1&t&&(e.TgZ(0,"div"),e._uU(1,"First Name is required"),e.qZA())}function P(t,o){if(1&t&&(e.TgZ(0,"div",17),e.YNc(1,T,2,0,"div",18),e.qZA()),2&t){const n=e.oxw();e.xp6(1),e.Q6J("ngIf",n.f.firstName.errors.required)}}function M(t,o){1&t&&(e.TgZ(0,"div"),e._uU(1,"Last Name is required"),e.qZA())}function A(t,o){if(1&t&&(e.TgZ(0,"div",17),e.YNc(1,M,2,0,"div",18),e.qZA()),2&t){const n=e.oxw();e.xp6(1),e.Q6J("ngIf",n.f.lastName.errors.required)}}function O(t,o){1&t&&(e.TgZ(0,"div"),e._uU(1,"Username is required"),e.qZA())}function N(t,o){if(1&t&&(e.TgZ(0,"div",17),e.YNc(1,O,2,0,"div",18),e.qZA()),2&t){const n=e.oxw();e.xp6(1),e.Q6J("ngIf",n.f.username.errors.required)}}function w(t,o){1&t&&(e.TgZ(0,"div"),e._uU(1,"Password is required"),e.qZA())}function U(t,o){1&t&&(e.TgZ(0,"div"),e._uU(1,"Password must be at least 6 characters"),e.qZA())}function J(t,o){if(1&t&&(e.TgZ(0,"div",17),e.YNc(1,w,2,0,"div",18),e.YNc(2,U,2,0,"div",18),e.qZA()),2&t){const n=e.oxw();e.xp6(1),e.Q6J("ngIf",n.f.password.errors.required),e.xp6(1),e.Q6J("ngIf",n.f.password.errors.minlength)}}function y(t,o){1&t&&e._UZ(0,"span",19)}const u=function(t){return{"is-invalid":t}},I=[{path:"",component:v,children:[{path:"login",component:(()=>{class t{constructor(n,r,c,g,l){this.formBuilder=n,this.route=r,this.router=c,this.accountService=g,this.alertService=l,this.loading=!1,this.submitted=!1}ngOnInit(){this.form=this.formBuilder.group({username:["",i.kI.required],password:["",i.kI.required]})}get f(){return this.form.controls}onSubmit(){this.submitted=!0,this.alertService.clear(),!this.form.invalid&&(this.loading=!0,this.accountService.login(this.f.username.value,this.f.password.value).pipe((0,f.P)()).subscribe({next:()=>{this.router.navigateByUrl(this.route.snapshot.queryParams.returnUrl||"/")},error:n=>{this.alertService.error(n),this.loading=!1}}))}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(i.qu),e.Y36(s.gz),e.Y36(s.F0),e.Y36(m.BR),e.Y36(m.c9))},t.\u0275cmp=e.Xpm({type:t,selectors:[["ng-component"]],decls:21,vars:11,consts:[[1,"card"],[1,"login"],[1,"card-body"],[3,"formGroup","ngSubmit"],[1,"form-group"],["for","username",1,"login"],["type","text","formControlName","username",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["for","password",1,"login"],["type","password","formControlName","password",1,"form-control",3,"ngClass"],[1,"btn","btn-primary",3,"disabled"],["class","spinner-border spinner-border-sm mr-1",4,"ngIf"],["routerLink","../register",1,"btn","btn-link"],[1,"invalid-feedback"],[4,"ngIf"],[1,"spinner-border","spinner-border-sm","mr-1"]],template:function(n,r){1&n&&(e.TgZ(0,"div",0)(1,"h4",1),e._uU(2,"Login"),e.qZA(),e.TgZ(3,"div",2)(4,"form",3),e.NdJ("ngSubmit",function(){return r.onSubmit()}),e.TgZ(5,"div",4)(6,"label",5),e._uU(7,"Username"),e.qZA(),e._UZ(8,"input",6),e.YNc(9,b,2,1,"div",7),e.qZA(),e.TgZ(10,"div",4)(11,"label",8),e._uU(12,"Password"),e.qZA(),e._UZ(13,"input",9),e.YNc(14,Z,2,1,"div",7),e.qZA(),e.TgZ(15,"div",4)(16,"button",10),e.YNc(17,x,1,0,"span",11),e._uU(18," Login "),e.qZA(),e.TgZ(19,"a",12),e._uU(20,"Register"),e.qZA()()()()()),2&n&&(e.xp6(4),e.Q6J("formGroup",r.form),e.xp6(4),e.Q6J("ngClass",e.VKq(7,_,r.submitted&&r.f.username.errors)),e.xp6(1),e.Q6J("ngIf",r.submitted&&r.f.username.errors),e.xp6(4),e.Q6J("ngClass",e.VKq(9,_,r.submitted&&r.f.password.errors)),e.xp6(1),e.Q6J("ngIf",r.submitted&&r.f.password.errors),e.xp6(2),e.Q6J("disabled",r.loading),e.xp6(1),e.Q6J("ngIf",r.loading))},directives:[i._Y,i.JL,i.sg,i.Fj,i.JJ,i.u,d.mk,d.O5,s.yS],styles:['.sidebar[_ngcontent-%COMP%]{background-color:#374785;color:#f9ecd3;top:0px;bottom:0px;left:0px;height:100vh;font-size:1rem}.sidebar[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#eae8de;text-transform:uppercase;text-align:center;margin-bottom:20px}.sidebar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:20px;border-bottom:1px solid #2b2a29;border-top:1px solid #2b2a29;list-style:none}.sidebar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#f9ecd3;display:block}.sidebar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .fas[_ngcontent-%COMP%]{width:25px}.sidebar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#ff6028;color:#2b2a29;font-weight:600}.sidebar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover   a[_ngcontent-%COMP%]{color:#fff}.card-container[_ngcontent-%COMP%]{color:#f9ecd3;display:grid;height:85vh;grid-template-columns:repeat(3,.8fr);grid-auto-columns:minmax(1fr,atuo);grid-auto-rows:minmax(1fr,auto);grid-template-areas:"card card card";grid-gap:1.2rem;padding:.2rem;padding-bottom:35px;padding-right:15px}.card[_ngcontent-%COMP%]{background-color:#41342f;border-radius:.1em;box-shadow:10px 10px 10px #161616}.card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#ff6028;text-transform:uppercase;text-align:center;margin-bottom:5px}.card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:center}.card[_ngcontent-%COMP%]:hover{background-color:#625b33;color:#eae8de}@media only screen and (max-width: 650px){.card-container[_ngcontent-%COMP%]{grid-template-columns:1fr;grid-auto-rows:1fr;grid-template-areas:"card-container" "card-container" "card-container"}}@media only screen and (max-width: 450px){.card-container[_ngcontent-%COMP%]{grid-template-columns:repeat(2,.8fr);grid-auto-rows:repeat(3,.8fr);grid-template-areas:"card-container" "card-container" "card-container"}}.side-img-top-logo[_ngcontent-%COMP%]{max-width:11rem;margin-bottom:20px;margin-left:5px}.footer-img-logo[_ngcontent-%COMP%]{height:2em}.img-pos[_ngcontent-%COMP%]{padding-top:20px}.image-cards[_ngcontent-%COMP%]{height:4rem;margin-bottom:8px}.login[_ngcontent-%COMP%]{color:#f9ecd3}']}),t})()},{path:"register",component:(()=>{class t{constructor(n,r,c,g,l){this.formBuilder=n,this.route=r,this.router=c,this.accountService=g,this.alertService=l,this.loading=!1,this.submitted=!1}ngOnInit(){this.form=this.formBuilder.group({firstName:["",i.kI.required],lastName:["",i.kI.required],username:["",i.kI.required],password:["",[i.kI.required,i.kI.minLength(6)]]})}get f(){return this.form.controls}onSubmit(){this.submitted=!0,this.alertService.clear(),!this.form.invalid&&(this.loading=!0,this.accountService.register(this.form.value).pipe((0,f.P)()).subscribe({next:()=>{this.alertService.success("Registration successful",{keepAfterRouteChange:!0}),this.router.navigate(["../login"],{relativeTo:this.route})},error:n=>{this.alertService.error(n),this.loading=!1}}))}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(i.qu),e.Y36(s.gz),e.Y36(s.F0),e.Y36(m.BR),e.Y36(m.c9))},t.\u0275cmp=e.Xpm({type:t,selectors:[["ng-component"]],decls:31,vars:19,consts:[[1,"card"],[1,"card-header"],[1,"card-body"],[3,"formGroup","ngSubmit"],[1,"form-group"],["for","firstName"],["type","text","formControlName","firstName",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["for","lastName"],["type","text","formControlName","lastName",1,"form-control",3,"ngClass"],["for","username"],["type","text","formControlName","username",1,"form-control",3,"ngClass"],["for","password"],["type","password","formControlName","password",1,"form-control",3,"ngClass"],[1,"btn","btn-primary",3,"disabled"],["class","spinner-border spinner-border-sm mr-1",4,"ngIf"],["routerLink","../login",1,"btn","btn-link"],[1,"invalid-feedback"],[4,"ngIf"],[1,"spinner-border","spinner-border-sm","mr-1"]],template:function(n,r){1&n&&(e.TgZ(0,"div",0)(1,"h4",1),e._uU(2,"Register"),e.qZA(),e.TgZ(3,"div",2)(4,"form",3),e.NdJ("ngSubmit",function(){return r.onSubmit()}),e.TgZ(5,"div",4)(6,"label",5),e._uU(7,"First Name"),e.qZA(),e._UZ(8,"input",6),e.YNc(9,P,2,1,"div",7),e.qZA(),e.TgZ(10,"div",4)(11,"label",8),e._uU(12,"Last Name"),e.qZA(),e._UZ(13,"input",9),e.YNc(14,A,2,1,"div",7),e.qZA(),e.TgZ(15,"div",4)(16,"label",10),e._uU(17,"Username"),e.qZA(),e._UZ(18,"input",11),e.YNc(19,N,2,1,"div",7),e.qZA(),e.TgZ(20,"div",4)(21,"label",12),e._uU(22,"Password"),e.qZA(),e._UZ(23,"input",13),e.YNc(24,J,3,2,"div",7),e.qZA(),e.TgZ(25,"div",4)(26,"button",14),e.YNc(27,y,1,0,"span",15),e._uU(28," Register "),e.qZA(),e.TgZ(29,"a",16),e._uU(30,"Cancel"),e.qZA()()()()()),2&n&&(e.xp6(4),e.Q6J("formGroup",r.form),e.xp6(4),e.Q6J("ngClass",e.VKq(11,u,r.submitted&&r.f.firstName.errors)),e.xp6(1),e.Q6J("ngIf",r.submitted&&r.f.firstName.errors),e.xp6(4),e.Q6J("ngClass",e.VKq(13,u,r.submitted&&r.f.lastName.errors)),e.xp6(1),e.Q6J("ngIf",r.submitted&&r.f.lastName.errors),e.xp6(4),e.Q6J("ngClass",e.VKq(15,u,r.submitted&&r.f.username.errors)),e.xp6(1),e.Q6J("ngIf",r.submitted&&r.f.username.errors),e.xp6(4),e.Q6J("ngClass",e.VKq(17,u,r.submitted&&r.f.password.errors)),e.xp6(1),e.Q6J("ngIf",r.submitted&&r.f.password.errors),e.xp6(2),e.Q6J("disabled",r.loading),e.xp6(1),e.Q6J("ngIf",r.loading))},directives:[i._Y,i.JL,i.sg,i.Fj,i.JJ,i.u,d.mk,d.O5,s.yS],encapsulation:2}),t})()}]}];let Y=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[s.Bz.forChild(I)],s.Bz]}),t})(),R=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[d.ez,i.UX,Y]]}),t})()}}]);