<div class="container">
  <div class="row">
    <div class="col-4"></div>
    <div class="col-4">
        <h1>Specification View</h1>
    </div>
    <div class="col-4"></div>
  </div>
  <div class="row">
    <form>
      <mat-form-field appearance="fill">
        <mat-label>Welding Procedure Specification</mat-label>
        <input type="text"
               placeholder="Select Specification"
               aria-label="Specification"
               matInput
               [formControl]="specFilter"
               [matAutocomplete]="auto">
        <mat-autocomplete autoActiveFirstOption #auto="matAutocomplete">
            <mat-option *ngFor="let Specification of filteredOptions | async" [value]="Specification.WPS_No">
            {{Specification.WPS_No}}
            </mat-option>
        </mat-autocomplete>
      </mat-form-field>
    </form>
  </div>
  <div class="row">
    <div class="row">
      <button mat-flat-button class="btn btn-warning text-center" type="button">Add</button>
      <button mat-flat-button class="btn btn-warning text-center" type="button" *ngIf="!Editing">Edit</button>
      <button mat-flat-button class="btn btn-warning text-center" type="button" *ngIf="!Editing" (click)="onSubmit(Specifications)">Save</button>
    </div>
    <div class="row">
      <div *ngIf="SpecLoaded">
        <mat-tab-group dynamicHeight>
          <div *ngFor="let Specification of Specifications"> 
            <mat-tab label="Run {{Specification.Run_No}}">
              <div class="mat-elevation-z4">
                <div>
                  <form [formGroup] = createFormGroup(Specification.Run_No)>
                    <mat-form-field appearance="fill" *ngFor="let specName of SortedSpecList ">
                      <mat-label>{{specName}}</mat-label>
                      <input id="input_{{specName}}_{{Specification.Run_No}}"
                        type="text"
                        value="{{Specification[specName]}}"
                        matInput>
                    </mat-form-field>
                  </form> 
                </div>
              </div>
            </mat-tab>
          </div>
        </mat-tab-group>
      </div>
    </div>
  </div>
</div>
